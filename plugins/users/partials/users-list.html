<!DOCTYPE html>
<html>
  <head>
    <title></title>
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/wysiwyg-editor.min.css">
    <script type="text/javascript" src="/libs/jquery-2.1.0.min.js"></script>
    <link rel="stylesheet" href="/style-user.css">
</head>
<body>
  
  <div class="user-list row col-xs-offset-1 col-xs-10">
    <ol class="breadcrumb">
      <li><a href="/abe/">Home</a></li>
      <li class="active">User list</li>
    </ol>

    <div class="alert alert-danger hidden" role="alert">
      
    </div>

    <div class="panel panel-default">
  
      <form classs="form-inline">
        <table class="table table-striped">
          <thead>
            <tr>
              <th>username</th>
              <th>name</th>
              <th>email</th>
              <th></th>
              <th>role</th>
              {{#role 'admin' this}}<th>actif</th>{{/role}}
              {{#role 'admin' this}}<th>actions</th>{{/role}}
            </tr>
          </thead>
          <tbody>
            {{#each users}}
            <tr>
              <td>{{this.username}}</td>
              <td>{{this.name}}</td>
              <td>{{this.email}}</td>
              <td></td>
              <td>{{this.role.name}}</td>
              {{#role 'admin' @root}}
              <td>
                {{#ifCond this.actif 1}}
                  <span class="glyphicon glyphicon-eye-open text-info" data-deactivate data-user-id="{{this.id}}"></span>
                {{/ifCond}}
                {{#ifCond this.actif 0}}
                  <span class="glyphicon glyphicon-eye-close text-danger" data-activate data-user-id="{{this.id}}"></span>
                {{/ifCond}}
              </td>
              {{/role}}
              {{#role 'admin' @root}}
              <td>
                <span class="glyphicon glyphicon-trash text-danger" data-remove data-user-id="{{this.id}}"></span>
              </td>
              {{/role}}
            </tr>
            {{/each}}
            {{#role 'admin' this}}
            <tr>
              <td>
                <div class="form-group">
                  <input type="text" name="username" placeholder="username" class="form-control" data-add-user-username>
                </div>
              </td>
              <td>
                <div class="form-group">
                  <input type="text" name="name" placeholder="name" class="form-control" data-add-user-name>
                </div>
              </td>
              <td>
                <div class="form-group">
                  <input type="text" name="email" placeholder="email" class="form-control" data-add-user-email>
                </div>
              </td>
              <td>
                <div class="form-group">
                  <input type="password" name="password" placeholder="password" class="form-control" data-add-user-password>
                </div>
              </td>
              <td>
                <div class="form-group">
                  <select name="role" id="role" class="form-control" data-add-user-role>
                  {{#each roles}}
                    <option value="{{this.name}}">{{this.name}}</option>
                  {{/each}}
                  </select>
                </div>
              </td>
              <td>
                
              </td>
              <td>
                <span class="glyphicon glyphicon-plus text-info" data-add-user></span>
              </td>
            </tr>
            {{/role}}
          </tbody>
        </table>
      </form>
    </div>
  </div>
  <script type="text/javascript" src="/minAjax.js"></script>
  <script type="text/javascript" src="/users-plugin.js"></script>
  
</body>
</html>